--- a/gcc/tree-vectorizer.c	2009-03-18 17:29:28.000000000 +0200
+++ b/gcc/tree-vectorizer.c	2009-08-11 15:23:15.000000000 +0300
@@ -1832,7 +1832,7 @@ vect_can_force_dr_alignment_p (const_tre
   if (TREE_STATIC (decl))
     return (alignment <= MAX_OFILE_ALIGNMENT);
   else
-    return (alignment <= MAX_STACK_ALIGNMENT);
+    return (alignment <= STACK_BOUNDARY);
 }
 
 
